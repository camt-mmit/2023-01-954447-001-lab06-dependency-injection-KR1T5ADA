"use strict";(self.webpackChunkmy_ng3=self.webpackChunkmy_ng3||[]).push([[37],{37:(T,m,l)=>{function _(n,a,e,i,o,s,c){try{var p=n[s](c),u=p.value}catch(D){return void e(D)}p.done?a(u):Promise.resolve(u).then(i,o)}function d(n){return function(){var a=this,e=arguments;return new Promise(function(i,o){var s=n.apply(a,e);function c(u){_(s,i,o,c,p,"next",u)}function p(u){_(s,i,o,c,p,"throw",u)}c(void 0)})}}l.r(m),l.d(m,{routes:()=>v});var t=l(946),r=l(814);function g(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"span",7),t._uU(2),t.qZA(),t.TgZ(3,"input",8,9),t.NdJ("change",function(){const s=t.CHM(e).index,c=t.MAs(4),p=t.oxw();return t.KtG(p.onChange(s,c.valueAsNumber))}),t.qZA(),t.TgZ(5,"button",10),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.deleteInput(s))}),t._uU(6," Delete "),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(2),t.hij("Number :: ",i+1," "),t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Q6J("disabled",1===o.items.length)}}let f=(()=>{class n{constructor(){this.dataChange=new t.vpe,this.isDisabled=!0}disabled(){this.isDisabled=1===this.items.length}onChange(e,i){this.items[e].value=i,this.dataChange.emit()}addInput(){this.items.push({value:0}),this.disabled(),this.dataChange.emit()}deleteInput(e){this.items.splice(e,1),this.disabled(),this.dataChange.emit()}getResult(){return this.items.reduce((e,i)=>e+i.value,0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dynamic-input"]],inputs:{items:"items"},outputs:{dataChange:"dataChange"},standalone:!0,features:[t.jDz],decls:11,vars:2,consts:[["type","button",3,"click"],[1,"container"],[1,"input-list"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"result-title"],[1,"result-output"],[1,"input-number"],["type","number",1,"input-box",3,"value","change"],["elem",""],["type","button",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.addInput()}),t._uU(1,"Add Input"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,g,7,3,"div",3),t.qZA(),t.TgZ(5,"div")(6,"div",4)(7,"b",5),t._uU(8,"Result:"),t.qZA(),t.TgZ(9,"output",6),t._uU(10),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.items),t.xp6(6),t.Oqu(i.getResult()))},dependencies:[r.ez,r.sg],styles:[".footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input-box[_ngcontent-%COMP%]{width:60%}"]}),n})();function C(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"section",3)(1,"div",4)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.deleteSection(s))}),t._uU(5," Delete Section "),t.qZA()(),t.TgZ(6,"app-dynamic-input",6),t.NdJ("dataChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDataChange())}),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(3),t.hij("Section ",i+1,""),t.xp6(1),t.Q6J("disabled",1===o.items.length),t.xp6(2),t.Q6J("items",e)}}let x=(()=>{class n{constructor(){this.dataChange=new t.vpe,this.isDisabled=!0}disabled(){this.isDisabled=1===this.items.length}addSection(){this.items.push([{value:0}]),this.disabled(),this.dataChange.emit(this.items)}deleteSection(e){this.items.splice(e,1),this.disabled(),this.dataChange.emit(this.items)}onDataChange(){this.dataChange.emit(this.items)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dynamic-section"]],inputs:{items:"items"},outputs:{dataChange:"dataChange"},standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"all-section"],["type","button",3,"click"],["class","section-group",4,"ngFor","ngForOf"],[1,"section-group"],[1,"section-header"],["type","button",3,"disabled","click"],[3,"items","dataChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.addSection()}),t._uU(2,"Add Section"),t.qZA()(),t.YNc(3,C,7,3,"section",2)),2&e&&(t.xp6(3),t.Q6J("ngForOf",i.items))},dependencies:[r.ez,r.sg,f],styles:[".section-group[_ngcontent-%COMP%]{border:1px solid black;background-color:#f3f3f3;border-radius:7px;margin-bottom:20px;width:400px}.section-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px 10px}"]}),n})();const h="example-data";let y=(()=>{class n{getData(){return d(function*(){return JSON.parse(localStorage.getItem(h)??"[[0]]").map(i=>i.map(o=>({value:o})))})()}setData(e){return d(function*(){const i=e.map(o=>o.map(s=>s.value));localStorage.setItem(h,JSON.stringify(i))})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-dynamic-section",1),t.NdJ("dataChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onDataChange(o))}),t.qZA()}2&n&&t.Q6J("items",a.ngIf)}const v=[{path:"",redirectTo:"input",pathMatch:"full"},{path:"input",component:(()=>{class n{constructor(){this.dataService=(0,t.f3M)(y),this.data$=this.dataService.getData()}onDataChange(e){var i=this;return d(function*(){console.debug(e),yield i.dataService.setData(e)})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-example-input"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[3,"items","dataChange",4,"ngIf"],[3,"items","dataChange"]],template:function(e,i){1&e&&(t.YNc(0,b,1,1,"app-dynamic-section",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.data$))},dependencies:[r.ez,r.O5,r.Ov,x]}),n})()}]}}]);